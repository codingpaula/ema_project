{% extends "matrix_base.html" %}
{% load staticfiles %}
{% block content %}
<script>
  var task_data = {{ end_data|safe }};
  var topic_data = {{ topic_data|safe }};
</script>
  <div id="MatrixSettings">
    <div id="Topics" class="myContainer">
      <div class="align-left">
        <h3>Topics</h3>
      </div>
      <div class="align-right" class="add">
        <a href={% url 'matrix:addtopic' %}>
          <button class="btn btn-default btn-sm">+</button>
        </a>
      </div>
      <div>
        {% if all_topics %}
        <ul class="noIndentList">
          {% for topic in all_topics %}
          <li class="topicList">
            <button class="topicButton"
                    id="{{ topic.id }}"
                    onclick="Sidebar.button({{ topic.id }});"
                    style="background-color: {{ topic.color }};
                          border: 1px solid {{ topic.color }}">
              {{ topic.topic_name }}
            </button>
          </li>
          {% endfor %}
          <li class="topicList">
            <button class="topicButton"
                    id="all"
                    onclick="Sidebar.allButton();"
                    style="margin-top: 15px;">
              -- all --
            </button>
          </li>
          <li class="topicList">
            <button class="topicButton"
                    id="editTopics"
                    onclick="Sidebar.editTopics();"
                    sytle="margin-top: 10px;">
              edit topics
            </button>
          </li>
        </ul>
        {% else %}
          <p>No topics are available.</p>
          <a href={% url 'matrix:addtopic' %}>
            <button>add a new topic!</button>
          </a>
        {% endif %}
      </div>
    </div>
  </div>
  <div id="Matrix">
    <!--<canvas id="ema" width="900" height="700">
      The Eisenhower Matrix! If you are seeing this text, your browser does
      not support this website. Please update or download Firefox or Opera.
    </canvas>-->
    <div id="dots" style="width: 900px; height:725px; background-image: url({% static "pictures/matrix.png" %});"></div>
  </div>
  <div>
    <table>
      <tr>
        <td><strong>due date:</strong></td>
        <td>Wed, 18 December</td>
      </tr>
      <tr>
        <td><strong>importance:</strong></td>
        <td>not important</td>
      </tr>
    </table>
  </div>
  <button onclick="$('.displayForms').css('display', 'block');">add task</button>
  <div class="displayForms">
    <form action="{% url 'matrix:adding' %}" method="post"
          class="ajaxFormCreateTask">
      {% csrf_token %}
      {{ task_form }}
      <input type="submit" value="add task" />
    </form>
  </div>
  <!--div id="Detail" onclick="location.href={% url 'matrix:adding' %};">
    <h1>Test1</h1>
    <p>Attributs</p>
  </div>
  <div id="NewTask">
    <a href={% url 'matrix:adding' %}>
      <button>
        new Task
      </button>
    </a>
  </div>
  <div id="EditTask">
    <form action="{#% url 'matrix:taskediting' %#}" method="post">
      {% csrf_token %}
      {{ form.as_p }}
      <input type="submit" value="Update" />
    </form-->
  </div>
{% endblock content %}
{% block modals %}
<div class="modal">

</div>
{% endblock modals %}
{% block javascript %}
  <script type="text/javascript" src={% static "js/daten.js" %}></script>
  <script type="text/javascript" src={% static "js/matrix.js" %}></script>
  <script type="text/javascript" src={% static "js/ajax_forms.js" %}></script>
  <script type="text/javascript" src={% static "js/display.js" %}></script>
{% endblock javascript %}
